# 커피 주문 앱

## 1. 프로젝트 개요

### 1.1 프로젝트명
커피 주문 앱

### 1.2 프로젝트 목적
사용자가 커피 메뉴를 주문하고, 관리자가 주문을 관리할 수 있는 간단한 풀스택 웹 앱

### 1.3 개발 범위
- 주문하기 화면(메뉴 선택 및 장바구니 기능)
- 관리자 화면(재고 관리 및 주문 상태 관리)
- 데이터를 생성/조회/수정/삭제할 수 있는 기능

## 2. 기술 스택
- 프론트엔드: HTML, CSS, 리액트, 자바스크립트
- 백엔드: Node.js, Express
- 데이터베이스: PostgreSQL

## 3. 기본 사항
- 프런트엔드와 백엔드를 따로 개발
- 기본적인 웹 기술만 사용
- 학습 목적이므로 사용자 인증이나 결제 기능은 제외
- 메뉴는 커피 메뉴만 있음

## 4. 주문하기 화면 상세 요구사항

### 4.1 화면 구조
주문하기 화면은 다음과 같은 세 가지 주요 섹션으로 구성됩니다:
1. 헤더 섹션
2. 메뉴 아이템 섹션
3. 장바구니 섹션

### 4.2 헤더 섹션

#### 4.2.1 구성 요소
- **로고 영역**: 좌측 상단에 "COZY" 텍스트가 포함된 다크 그린 배경의 사각형 박스
  - 배경색: 다크 그린
  - 텍스트 색상: 흰색
- **주문하기 버튼**: 헤더 우측에 위치 (현재 화면이므로 활성화 상태)
- **관리자 버튼**: 헤더 우측에 위치, 클릭 시 관리자 화면으로 이동

#### 4.2.2 기능 요구사항
- 관리자 버튼 클릭 시 관리자 화면으로 라우팅
- 주문하기 버튼은 현재 화면 표시용 (선택적 구현)

### 4.3 메뉴 아이템 섹션

#### 4.3.1 레이아웃
- 메뉴 아이템들은 카드 형태로 가로로 배치
- 각 카드는 동일한 구조와 스타일을 가짐
- 반응형 디자인: 화면 크기에 따라 카드 개수 조정 가능

#### 4.3.2 메뉴 카드 구성 요소
각 메뉴 카드는 다음 요소들을 포함합니다:

1. **이미지 영역**
   - 상단에 메뉴 이미지를 표시하는 사각형 영역
   - 이미지가 없는 경우 플레이스홀더 표시 (대각선이 그어진 흰색 박스)

2. **메뉴 정보**
   - **메뉴명**: 메뉴의 이름 (예: "아메리카노(ICE)", "아메리카노(HOT)", "카페라떼")
   - **가격**: 원화 표기 (예: "4,000원", "5,000원")
   - **설명**: 메뉴에 대한 간단한 설명 텍스트 (예: "간단한 설명...")

3. **커스터마이징 옵션**
   - 체크박스 형태의 옵션 선택 UI
   - 각 옵션은 옵션명과 추가 가격을 표시
   - 예시 옵션:
     - "샷 추가 (+500원)"
     - "시럽 추가 (+0원)"
   - 여러 옵션을 동시에 선택 가능
   - 옵션 선택 시 실시간으로 가격 계산에 반영

4. **담기 버튼**
   - 카드 하단에 위치한 회색 버튼
   - 버튼 텍스트: "담기"
   - 클릭 시 선택된 옵션과 함께 장바구니에 추가

#### 4.3.3 기능 요구사항
- 메뉴 목록은 백엔드 API를 통해 동적으로 로드
- 옵션 선택/해제 시 즉시 반영
- "담기" 버튼 클릭 시:
  - 선택된 옵션 정보와 함께 장바구니에 추가
  - 동일한 메뉴+옵션 조합이 이미 장바구니에 있으면 수량 증가
  - 장바구니에 추가 후 사용자에게 피드백 제공 (선택적: 토스트 메시지 등)
- 메뉴 카드는 재고가 없는 경우 비활성화 또는 표시 (선택적)

### 4.4 장바구니 섹션

#### 4.4.1 레이아웃
- 화면 하단에 고정된 영역으로 표시
- 장바구니가 비어있지 않은 경우 항상 보이도록 표시

#### 4.4.2 구성 요소

1. **장바구니 제목**
   - "장바구니" 텍스트로 표시

2. **장바구니 아이템 목록**
   - 각 아이템은 다음 정보를 표시:
     - 메뉴명과 선택된 옵션 (예: "아메리카노(ICE) (샷 추가)")
     - 수량 (예: "X 1", "X 2")
     - 해당 아이템의 총 가격 (옵션 포함)
   - 예시:
     - "아메리카노(ICE) (샷 추가) X 1" - 4,500원
     - "아메리카노(HOT) X 2" - 8,000원
   - 각 아이템에 삭제 버튼 추가 가능 (선택적)

3. **총 금액**
   - "총 금액" 레이블과 함께 표시
   - 모든 장바구니 아이템의 가격 합계
   - 굵은 글씨로 강조 표시
   - 예시: "12,500원"

4. **주문하기 버튼**
   - 총 금액 하단에 위치한 회색 버튼
   - 버튼 텍스트: "주문하기"
   - 장바구니가 비어있을 경우 비활성화

#### 4.4.3 기능 요구사항
- 장바구니 아이템 추가/삭제 시 총 금액 자동 재계산
- 옵션이 포함된 메뉴의 경우 옵션 가격이 정확히 반영되어야 함
- 동일한 메뉴+옵션 조합은 수량으로 통합 표시
- "주문하기" 버튼 클릭 시:
  - 주문 데이터를 백엔드 API로 전송
  - 주문 성공 시 장바구니 초기화
  - 주문 완료 메시지 표시 (선택적)
  - 주문 실패 시 에러 메시지 표시

### 4.5 UI/UX 요구사항

#### 4.5.1 디자인
- 전체적으로 깔끔하고 미니멀한 디자인
- 배경: 흰색
- 텍스트: 다크 그레이
- 강조 색상: 다크 그린 (로고 영역)
- 버튼: 회색 배경

#### 4.5.2 사용자 경험
- 모든 버튼 클릭에 즉각적인 피드백 제공
- 장바구니에 아이템 추가 시 시각적 피드백 (선택적: 애니메이션)
- 로딩 상태 표시 (API 호출 시)
- 에러 발생 시 사용자에게 명확한 메시지 표시

#### 4.5.3 반응형 디자인
- 다양한 화면 크기에 대응 가능한 레이아웃
- 모바일 환경에서도 사용 가능하도록 최적화 (선택적)

### 4.6 데이터 구조

#### 4.6.1 메뉴 데이터
```javascript
{
  id: number,
  name: string,
  price: number,
  description: string,
  imageUrl: string (optional),
  options: [
    {
      id: number,
      name: string,
      price: number
    }
  ]
}
```

#### 4.6.2 장바구니 아이템 데이터
```javascript
{
  menuId: number,
  menuName: string,
  basePrice: number,
  selectedOptions: [
    {
      optionId: number,
      optionName: string,
      optionPrice: number
    }
  ],
  quantity: number,
  totalPrice: number
}
```

#### 4.6.3 주문 데이터
```javascript
{
  items: [
    {
      menuId: number,
      menuName: string,
      basePrice: number,
      selectedOptions: array,
      quantity: number,
      totalPrice: number
    }
  ],
  totalAmount: number
}
```

## 5. 관리자 화면 상세 요구사항

### 5.1 화면 구조
관리자 화면은 다음과 같은 네 가지 주요 섹션으로 구성됩니다:
1. 헤더 섹션
2. 관리자 대시보드 섹션
3. 재고 현황 섹션
4. 주문 현황 섹션

### 5.2 헤더 섹션

#### 5.2.1 구성 요소
- **로고 영역**: 좌측 상단에 "COZY" 텍스트가 포함된 다크 그레이 배경의 사각형 박스
  - 배경색: 다크 그레이
  - 텍스트 색상: 흰색
- **주문하기 버튼**: 헤더 우측에 위치, 클릭 시 주문하기 화면으로 이동
- **관리자 버튼**: 헤더 우측에 위치, 현재 화면이므로 활성화 상태 (다크 그레이 테두리로 강조)

#### 5.2.2 기능 요구사항
- 주문하기 버튼 클릭 시 주문하기 화면으로 라우팅
- 관리자 버튼은 현재 화면 표시용 (선택적 구현)

### 5.3 관리자 대시보드 섹션

#### 5.3.1 구성 요소
- **섹션 제목**: "관리자 대시보드" 텍스트로 표시
- **주문 통계**: 주문 상태별 통계를 한 줄로 표시
  - 형식: "총 주문 {총 주문 수} / 주문 접수 {접수 수} / 제조 중 {제조 중 수} / 제조 완료 {완료 수}"
  - 예시: "총 주문 1 / 주문 접수 1 / 제조 중 0 / 제조 완료 0"

#### 5.3.2 기능 요구사항
- 주문 통계는 실시간으로 업데이트
- 백엔드 API를 통해 주문 상태별 집계 데이터를 조회
- 주문 상태 변경 시 통계 자동 갱신

### 5.4 재고 현황 섹션

#### 5.4.1 레이아웃
- 재고 정보는 카드 형태로 가로로 배치
- 각 카드는 동일한 구조와 스타일을 가짐
- 반응형 디자인: 화면 크기에 따라 카드 개수 조정 가능

#### 5.4.2 재고 카드 구성 요소
각 재고 카드는 다음 요소들을 포함합니다:

1. **메뉴명**
   - 메뉴의 이름 (예: "아메리카노 (ICE)", "아메리카노 (HOT)", "카페라떼")

2. **재고 수량**
   - 현재 재고 수량을 표시
   - 형식: "{수량}개" (예: "10개")

3. **재고 조정 버튼**
   - **증가 버튼 (+)**: 재고 수량을 1씩 증가
   - **감소 버튼 (-)**: 재고 수량을 1씩 감소
   - 두 버튼은 작은 사각형 형태로 수량 하단에 배치

#### 5.4.3 기능 요구사항
- 재고 목록은 백엔드 API를 통해 동적으로 로드
- "+" 버튼 클릭 시:
  - 해당 메뉴의 재고 수량을 1 증가
  - 백엔드 API로 재고 업데이트 요청
  - 성공 시 UI 즉시 반영
- "-" 버튼 클릭 시:
  - 해당 메뉴의 재고 수량을 1 감소
  - 재고가 0 이하로 내려가지 않도록 검증 (선택적)
  - 백엔드 API로 재고 업데이트 요청
  - 성공 시 UI 즉시 반영
- 재고 변경 시 즉각적인 피드백 제공
- 재고가 부족한 경우 시각적 표시 (선택적: 경고 색상 등)

### 5.5 주문 현황 섹션

#### 5.5.1 구성 요소
- **섹션 제목**: "주문 현황" 텍스트로 표시
- **주문 목록**: 주문 항목들을 리스트 형태로 표시

#### 5.5.2 주문 항목 구성 요소
각 주문 항목은 다음 정보를 표시합니다:

1. **주문 일시**
   - 주문이 생성된 날짜와 시간
   - 형식: "{월}월 {일}일 {시}:{분}" (예: "7월 31일 13:00")

2. **주문 아이템**
   - 주문된 메뉴와 수량 정보
   - 형식: "{메뉴명} x {수량}" (예: "아메리카노(ICE) x 1")
   - 옵션이 있는 경우 옵션 정보도 표시 (선택적)

3. **주문 금액**
   - 해당 주문의 총 금액
   - 형식: "{금액}원" (예: "4,000원")

4. **주문 접수 버튼**
   - 주문 항목 우측에 위치한 버튼
   - 버튼 텍스트: "주문 접수"
   - 클릭 시 주문 상태를 "주문 접수"로 변경

#### 5.5.3 주문 상태 관리
주문은 다음과 같은 상태를 가집니다:
- **주문 접수 전**: 새로 들어온 주문 (기본 상태)
- **주문 접수**: 관리자가 주문을 확인하고 접수한 상태
- **제조 중**: 주문을 제조하고 있는 상태
- **제조 완료**: 주문 제조가 완료된 상태

각 상태에 따라 주문 항목의 표시나 버튼이 변경될 수 있음 (선택적)

#### 5.5.4 기능 요구사항
- 주문 목록은 백엔드 API를 통해 동적으로 로드
- 주문 목록은 최신 주문이 위에 오도록 정렬 (시간 역순)
- "주문 접수" 버튼 클릭 시:
  - 해당 주문의 상태를 "주문 접수"로 변경
  - 백엔드 API로 주문 상태 업데이트 요청
  - 성공 시 주문 목록과 대시보드 통계 자동 갱신
  - 버튼 텍스트 변경 또는 비활성화 (선택적)
- 주문 상태 변경 시 즉각적인 피드백 제공
- 주문이 없는 경우 빈 상태 메시지 표시 (선택적)

### 5.6 UI/UX 요구사항

#### 5.6.1 디자인
- 전체적으로 깔끔하고 미니멀한 디자인
- 배경: 흰색
- 텍스트: 다크 그레이
- 강조 색상: 다크 그레이 (로고 영역)
- 섹션 구분: 연한 회색 배경의 둥근 모서리 박스
- 버튼: 회색 배경

#### 5.6.2 사용자 경험
- 모든 버튼 클릭에 즉각적인 피드백 제공
- 재고 수량 변경 시 시각적 피드백 (선택적: 애니메이션)
- 주문 상태 변경 시 명확한 피드백 제공
- 로딩 상태 표시 (API 호출 시)
- 에러 발생 시 사용자에게 명확한 메시지 표시
- 주문 통계는 주기적으로 자동 갱신 (선택적: 실시간 업데이트)

#### 5.6.3 반응형 디자인
- 다양한 화면 크기에 대응 가능한 레이아웃
- 모바일 환경에서도 사용 가능하도록 최적화 (선택적)

### 5.7 데이터 구조

#### 5.7.1 재고 데이터
```javascript
{
  menuId: number,
  menuName: string,
  stock: number
}
```

#### 5.7.2 주문 상태 통계 데이터
```javascript
{
  total: number,
  received: number,
  inProgress: number,
  completed: number
}
```

#### 5.7.3 주문 항목 데이터
```javascript
{
  orderId: number,
  createdAt: string, // ISO 8601 형식 또는 타임스탬프
  items: [
    {
      menuId: number,
      menuName: string,
      quantity: number,
      selectedOptions: array,
      price: number
    }
  ],
  totalAmount: number,
  status: string // "pending" | "received" | "inProgress" | "completed"
}
```

#### 5.7.4 재고 업데이트 요청 데이터
```javascript
{
  menuId: number,
  stock: number
}
```

#### 5.7.5 주문 상태 업데이트 요청 데이터
```javascript
{
  orderId: number,
  status: string
}
```